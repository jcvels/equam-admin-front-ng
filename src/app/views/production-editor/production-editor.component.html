<!-- data loading spiner -->
<app-wait-spiner *ngIf="waiting != 3"></app-wait-spiner>

<div class="container mt-3">
    <div class="row">
        <div class="col-sm-6">
            <div class="lead">Administración de la producción</div>
            <div class="text-muted small">Edicion de proceso</div>
        </div>
        <div class="col-sm-6">
            <div class="float-right equam-hover" href="javascript: history.go(-1)"><i class="fas fa-times"></i> Cerrar</div>
        </div>
    </div>
</div>

<div class="container mt-3">

    <div class="border-bottom mt-3 bg-light">
        <div class="row equam-hover" data-toggle="collapse" href="#info">
            <div class="col-sm-12 lead">Información general</div>
        </div>
                    
        <div class="collapse row p-1 mt-3 bg-light" id="info">
            <div class="col-sm-4">Identificador: <span class="col-sm-2 equam-color">#{{formdata.id}}</span> </div>
            <div class="col-sm-4">Fecha de inicio: <span class="col-sm-2 equam-color">{{formdata.startdate | date:'MMM/yy'}}</span> </div>
            <div class="col-sm-4">Estado: <span class="col-sm-2 equam-color">{{formdata.statusid}}</span> </div>
        </div>
    </div>

    <div class="border-bottom mt-3 bg-light">
        <div class="row equam-hover" data-toggle="collapse" href="#sales">
            <div class="col-sm-12 lead">Información venta y cliente</div>
        </div>

        <div class="collapse row p-1 mt-3 bg-light" id="sales">
            <div class="col-sm-4">Tipo de venta: <span class="equam-color">{{formdata.type}}</span> </div>
            <div class="col-sm-4">Cliente: <span class="equam-color">{{formdata.customerName}} {{formdata.customerSurname}}</span> </div>
            <div class="col-sm-4">Correo: <span class="equam-color">{{formdata.customerMail}}</span> </div>
        </div>
    </div>

    <div class="border-bottom mt-3 bg-light">
        <div class="row equam-hover" data-toggle="collapse" href="#asign">
            <div class="col-sm-12 lead">Asignación</div>
        </div>

        <div class="collapse row p-1 mt-3 bg-light" id="asign">
            <div class="col-sm-1">Productor</div>
            <div class="col-sm-4">
                <select style="width: 90%;" [(ngModel)]="formdata.manufacturerid">
                    <option value="0" selected>(sin asignar)</option>
                    <option *ngFor="let item of manufacturers" [value]="item.id">{{item.name}} {{item.surname}} ({{item.id}})</option>
                </select>
            </div>
            <div class="col-sm-1 equam-hover" (click)="chargeManufacturer();"><i class="fas fa-save ml-1"></i></div>

            <div class="col-sm-1">Receptor</div>
            <div class="col-sm-4">
                <select style="width: 90%;" [(ngModel)]="formdata.destinationid">
                    <option value="0" selected>(sin asignar)</option>
                    <option *ngFor="let item of destinations" [value]="item.id">{{item.name}} {{item.surname}}</option>
                </select>
            </div>
            <div class="col-sm-1 equam-hover" (click)="chargeDestination();"><i class="fas fa-save ml-1"></i></div>
        </div>
    </div>

    <div class="border-bottom mt-3 bg-light">
        <div class="row equam-hover" data-toggle="collapse" href="#proccess">
            <div class="col-sm-12 lead">Procesos</div>
        </div>

        <div class="row p-1 mt-3 bg-light" id="proccess">
            <div class="col-sm-6">
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-8">
                            <div class="card-body">
                                <div class="lead">Germinación</div>

                                <div class="row mt-1">
                                    <div class="col-4">Estado</div>
                                    <div class="col-8 equam-color">Completo</div>
                                </div>

                                <div class="row mt-1">
                                    <div class="col-4">Fecha</div>
                                    <div class="col-8 equam-color">16 de Julio de 2020</div>
                                </div>

                                <div class="row mt-1">
                                    <div class="col-4">Notas</div>
                                    <div class="col-8 equam-color">Mal clima durante toda la temporada</div>
                                </div>

                            </div>
                        </div>
                        <div class="col-md-4 p-3">
                            <img src="../../../assets/equam-logo.jpg" class="card-img" alt="...">
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-4 p-3">
                            <img src="../../../assets/equam-logo.jpg" class="card-img" alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <div class="lead">Primer repique</div>

                                <div class="row mt-1">
                                    <div class="col-4">Estado</div>
                                    <div class="col-8 equam-color">Pendiente</div>
                                </div>

                                <div class="row mt-1">
                                    <div class="col-4">Fecha</div>
                                    <div class="col-8 equam-color">-</div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-sm-6">
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-4 p-3">
                            <img src="../../../assets/equam-logo.jpg" class="card-img" alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <div class="lead">Segundo repique</div>

                                <div class="row mt-1">
                                    <div class="col-4">Estado</div>
                                    <div class="col-8 equam-color">Pendiente</div>
                                </div>

                                <div class="row mt-1">
                                    <div class="col-4">Fecha</div>
                                    <div class="col-8 equam-color">-</div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-4 p-3">
                            <img src="../../../assets/equam-logo.jpg" class="card-img" alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <div class="lead">Rustificación</div>

                                <div class="row mt-1">
                                    <div class="col-4">Estado</div>
                                    <div class="col-8 equam-color">Pendiente</div>
                                </div>

                                <div class="row mt-1">
                                    <div class="col-4">Fecha</div>
                                    <div class="col-8 equam-color">-</div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-12">
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-2 p-3">
                            <img src="../../../assets/equam-logo.jpg" class="card-img" alt="...">
                        </div>
                        <div class="col-md-10">
                            <div class="card-body">
                                <div class="lead">Plantación final</div>

                                <div class="row mt-1">
                                    <div class="col-4">Estado</div>
                                    <div class="col-8 equam-color">Pendiente</div>
                                </div>

                                <div class="row mt-1">
                                    <div class="col-4">Fecha</div>
                                    <div class="col-8 equam-color">-</div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    
</div>

<!-- seleción de imágenes -->
<app-img-manager (selectedImgIdEventEmitter)="receiveAvatarId($event)"></app-img-manager>
