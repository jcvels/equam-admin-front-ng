<!-- data loading spiner -->
<app-wait-spiner *ngIf="waiting != 3"></app-wait-spiner>

<div class="container mt-3">
    <div class="row">
        <div class="col-sm-6">
                <div class="lead">Producción</div>
                <div class="text-muted small">Gestión de los trabajos en curso</div>
        </div>
    </div> 
    
    <div class="border-bottom p-1 mt-3 equam-hover bg-light">
        <div class="row" data-toggle="collapse" href="#processNew">
            <div class="col-sm-12">Procesos sin asignar ( {{ processNew.length }} )</div>
        </div>
    </div>

    <div id="processNew" class="collapse">
        <!-- cabecera -->
        <div class="border-bottom p-1 mt-1 equam-hover bg-light">
            <div class="row">
                <div class="col-sm-1">#</div>
                <div class="col-sm-1">Estado</div>
                <div class="col-sm-3">Producto</div>
                <div class="col-sm-2">Productor</div>
                <div class="col-sm-2">Receptor</div>
                <div class="col-sm-1">Vigencia</div>
                <div class="col-sm-2">Procesos</div>
            </div>
        </div>

        <!-- datos -->
        <div class="border-bottom p-1 my-1 equam-hover animate__animated animate__slideInUp" *ngFor="let process of processNew">
            <div class="row" (click)="processEdit(process.id);">
                <div class="col-md-1">{{process.id}}</div>
                <div class="col-md-1">{{process.statusid}}</div>
                <div class="col-md-3">{{process.product.name}}</div>
                <div class="col-md-2">{{process.manufacturer.name}} {{process.manufacturer.surname}}</div>
                <div class="col-md-2">{{process.manufacturer.name}} {{process.manufacturer.surname}}</div>
                <div class="col-md-1">{{process.startdate | date:'MMM/yy'}}</div>
                <div class="col-md-1">
                    {{process.product.germ}}
                    {{process.product.repic1}}
                    {{process.product.repic2}}
                    {{process.product.rust}}
                </div>
            </div>
        </div>
    </div>

    <div class="border-bottom p-1 mt-3 equam-hover bg-light">
        <div class="row" data-toggle="collapse" href="#processWorking">
            <div class="col-sm-12">Procesos asignados ( {{ processWorking.length }} )</div>
        </div>
    </div>

    <div id="processWorking" class="collapse">
        <!-- cabecera -->
        <div class="border-bottom p-1 mt-3 equam-hover bg-light">
            <div class="row">
                <div class="col-sm-1">#</div>
                <div class="col-sm-1">Estado</div>
                <div class="col-sm-3">Producto</div>
                <div class="col-sm-2">Productor</div>
                <div class="col-sm-2">Receptor</div>
                <div class="col-sm-1">Vigencia</div>
                <div class="col-sm-2">Procesos</div>
            </div>
        </div>

        <!-- datos -->
        <div class="border-bottom p-1 my-1 equam-hover animate__animated animate__slideInUp" *ngFor="let process of processWorking">
            <div class="row" (click)="processEdit(process.id);">
                <div class="col-md-1">{{process.id}}</div>
                <div class="col-md-1">{{process.statusid}}</div>
                <div class="col-md-3">{{process.product.name}}</div>
                <div class="col-md-2">{{process.manufacturer.name}} {{process.manufacturer.surname}}</div>
                <div class="col-md-2">{{process.manufacturer.name}} {{process.manufacturer.surname}}</div>
                <div class="col-md-1">{{process.startdate | date:'MMM/yy'}}</div>
                <div class="col-md-1">
                    {{process.product.germ}}
                    {{process.product.repic1}}
                    {{process.product.repic2}}
                    {{process.product.rust}}
                </div>
            </div>
        </div>
    </div>

    <div class="border-bottom p-1 mt-3 equam-hover bg-light">
        <div class="row" data-toggle="collapse" href="#processToClose">
            <div class="col-sm-12">Procesos para finalizar ( {{ processToClose.length }} )</div>
        </div>
    </div>

    <div id="processToClose" class="collapse">
        <!-- cabecera -->
        <div class="border-bottom p-1 mt-3 equam-hover bg-light">
            <div class="row">
                <div class="col-sm-1">#</div>
                <div class="col-sm-1">Estado</div>
                <div class="col-sm-3">Producto</div>
                <div class="col-sm-2">Productor</div>
                <div class="col-sm-2">Receptor</div>
                <div class="col-sm-1">Vigencia</div>
                <div class="col-sm-2">Procesos</div>
            </div>
        </div>

        <!-- datos -->
        <div class="border-bottom p-1 my-1 equam-hover animate__animated animate__slideInUp" *ngFor="let process of processToClose">
            <div class="row" (click)="processEdit(process.id);">
                <div class="col-md-1">{{process.id}}</div>
                <div class="col-md-1">{{process.statusid}}</div>
                <div class="col-md-3">{{process.product.name}}</div>
                <div class="col-md-2">{{process.manufacturer.name}} {{process.manufacturer.surname}}</div>
                <div class="col-md-2">{{process.manufacturer.name}} {{process.manufacturer.surname}}</div>
                <div class="col-md-1">{{process.startdate | date:'MMM/yy'}}</div>
                <div class="col-md-1">
                    {{process.product.germ}}
                    {{process.product.repic1}}
                    {{process.product.repic2}}
                    {{process.product.rust}}
                </div>
            </div>
        </div>
    </div>

</div>
